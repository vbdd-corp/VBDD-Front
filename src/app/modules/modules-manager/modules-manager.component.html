<table *ngIf="modules" class="table table-striped" id="tableDossiers">
  <h4 id="pLabel"><i>Ajoutez</i>/<i>modifiez</i> vos modules</h4>
  <tbody>
  <tr *ngFor="let module of modules; let rowIndex=index">
    <td (click)="selectModule($event,module)" class="module pointer" id="module{{ rowIndex }}" scope="row">
      <span class="module-name">
                {{ module.typeModule.typeName }} {{moduleAdditionalName(module)}}
      </span>
      <button (click)="deleteModule(module.id)" aria-label="Close" class="close" type="button">
        <span aria-hidden="true">&times;</span>
      </button>
    </td>
  </tr>
  <tr>
    <td align="center" scope="row" style="margin-top:10px;">
      <button (click)="openModal(moduleCreateModal)" class="btn btn-success" type="button"><span
        class="glyphicon glyphicon-plus"></span> Ajouter un module
      </button>
      <br>
      <button (click)="downloadReport()" class="btn btn-info" style="margin-top: 10px;" type="button"><span
        class="glyphicon glyphicon-cloud-download"></span>Télécharger le dossier
        <span class="badge mat-badge-warn">BETA</span>
      </button>
    </td>
  </tr>
  <tr>
  </tr>
  </tbody>
</table>

<div class="bs-callout bs-callout-info">
  <h4>Validation du dossier</h4> <br>
  A chaque module remplis, n'oubliez pas de cliquer sur <i>Enregistrer</i>. <br> <br>Une fois ceci fait, vous pouvez
  quitter la page !
</div>

<ng-template #moduleCreateModal>
  <div class="modal-body text-center">
    <h3>Que voulez-vous ajouter ?</h3>
    <br>
    <div class="btn-group" dropdown>
      <button *ngIf="moduleTypeSelected" id="button-basic" dropdownToggle type="button"
              class="btn btn-primary dropdown-toggle"
              aria-controls="dropdown-basic">
        {{ moduleTypeSelected.typeName }} <span class="caret"></span>
      </button>
      <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
          role="menu" aria-labelledby="button-basic">
        <li *ngFor="let moduleType of moduleTypes" (click)="selectModuleType(moduleType)"
            class="pointer" role="menuitem">
          <a class="dropdown-item">{{moduleType.typeName}}</a>
        </li>
      </ul>
    </div>
    <br>
    <br>
    <button (click)="createModule(moduleTypeSelected.id, moduleTypeSelected.typeName); closeModal();"
            class="btn btn-success" type="button">Ajouter
    </button>


  </div>
</ng-template>
